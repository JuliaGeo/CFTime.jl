<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CFTime · CFTime</title><meta name="title" content="CFTime · CFTime"/><meta property="og:title" content="CFTime · CFTime"/><meta property="twitter:title" content="CFTime · CFTime"/><meta name="description" content="Documentation for CFTime."/><meta property="og:description" content="Documentation for CFTime."/><meta property="twitter:description" content="Documentation for CFTime."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>CFTime</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>CFTime</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Time-encoding-and-decoding"><span>Time encoding and decoding</span></a></li><li><a class="tocitem" href="#Accessor-Functions"><span>Accessor Functions</span></a></li><li><a class="tocitem" href="#Query-Functions"><span>Query Functions</span></a></li><li><a class="tocitem" href="#Conversion-Functions"><span>Conversion Functions</span></a></li><li><a class="tocitem" href="#Arithmetic"><span>Arithmetic</span></a></li><li><a class="tocitem" href="#Ranges"><span>Ranges</span></a></li><li><a class="tocitem" href="#Rounding"><span>Rounding</span></a></li><li><a class="tocitem" href="#Type-stable-constructors"><span>Type-stable constructors</span></a></li><li><a class="tocitem" href="#Limitations-and-caveats"><span>Limitations and caveats</span></a></li><li><a class="tocitem" href="#Internal-API"><span>Internal API</span></a></li></ul></li><li><span class="tocitem">Example</span><ul><li><a class="tocitem" href="basic_usage/">Basic Usage</a></li><li><a class="tocitem" href="example_CMIP6/">Loading climate data</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>CFTime</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>CFTime</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGeo/CFTime.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGeo/CFTime.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CFTime.jl"><a class="docs-heading-anchor" href="#CFTime.jl">CFTime.jl</a><a id="CFTime.jl-1"></a><a class="docs-heading-anchor-permalink" href="#CFTime.jl" title="Permalink"></a></h1><p>In many Earth science disciplines and beyond, expressing a time instance and a duration is essential. The <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.12/cf-conventions.html#calendar">CF conventions</a> provide a rich and flexible framework for handling time, equally applicable to observations and model data.</p><p>CFTime.jl implements the time structures standardized by the CF conventions, namely:</p><ul><li>Julian calendar (<a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a>). A year is a leap year if it is divisible by 4. For example, 1900 and 2000 are both leap years in the Julian calendar.</li><li>Proleptic Gregorian calendar (<a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>). A year is a leap year if it is divisible by 4 but not 100 or if it is divisible by 400. For example, 1900 is not a leap year in the proleptic Gregorian calendar but 2000 is.</li><li>The default mixed Gregorian/Julian calendar  (<a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>). This calendar uses the Julian calendar for time instances before 15th October 1582 and Gregorian calendar afterwards.</li><li>A calendar without leap years (<a href="#CFTime.DateTimeNoLeap"><code>DateTimeNoLeap</code></a>). All years are 365 days long.</li><li>A calendar with only leap years (<a href="#CFTime.DateTimeAllLeap"><code>DateTimeAllLeap</code></a>). All years are 366 days long.</li><li>A calendar with every year being 360 days long (divided into 30-day months) (<a href="#CFTime.DateTime360Day"><code>DateTime360Day</code></a>).</li></ul><p>The first three calendars (with different rules for leap years) can be used to express the time instances of observations or model. The remaining three calendars correspond to idealised model configurations where the duration of a year (revolution of the Earth around the Sun) is assumed to be exactly 365, 366 or 360 days.</p><p>While almost all datasets used in Earth Science use dates after the year 1582, some datasets or software systems use a time origin before this date, which makes it necessary to handle the transition from Julian to Gregorian calendar. Additionally, some dataset use microseconds and nanoseconds as time resolution, whereas Julia&#39;s <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>Dates.DateTime</code></a> has milliseconds as time resolution.</p><p>Note that time zones and leap seconds are currently not supported by <code>CFTime.jl</code>.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>Inside the Julia shell, you can download and install the package by issuing:</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;CFTime&quot;)</code></pre><p>CFTime is a pure Julia package and currently depends only on the modules <a href="https://docs.julialang.org/en/v1/stdlib/Dates/"><code>Dates</code></a> and <a href="https://docs.julialang.org/en/v1/stdlib/Printf/"><code>Printf</code></a>, which are part of Julia’s standard library.</p><h3 id="Latest-development-version"><a class="docs-heading-anchor" href="#Latest-development-version">Latest development version</a><a id="Latest-development-version-1"></a><a class="docs-heading-anchor-permalink" href="#Latest-development-version" title="Permalink"></a></h3><p>If you want to try the latest development version, you can do this with the following commands:</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(PackageSpec(url=&quot;https://github.com/JuliaGeo/CFTime.jl&quot;, rev=&quot;master&quot;))</code></pre><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><p><a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>, <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a>, <a href="#CFTime.DateTimeNoLeap"><code>DateTimeNoLeap</code></a>, <a href="#CFTime.DateTimeAllLeap"><code>DateTimeAllLeap</code></a> and <a href="#CFTime.DateTime360Day"><code>DateTime360Day</code></a> are the core types that define time instances according to the corresponding calendars. The main focus of this package is to instantiate and to manipulate these types.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTimeStandard" href="#CFTime.DateTimeStandard"><code>CFTime.DateTimeStandard</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTimeStandard([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
                 origin = (1900, 1, 1),
                 units = ...) -&gt; DateTimeStandard</code></pre><p>Construct a <code>DateTimeStandard</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTimeStandard</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;standard&quot;
# The internal time unit is millisecond.
dt1 = DateTimeStandard(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTimeStandard(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTimeStandard(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;standard&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTimeStandard(dt::AbstractString, format::AbstractString;
                 locale=&quot;english&quot;) -&gt; DateTimeStandard</code></pre><p>Construct a DateTimeStandard by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTimeJulian" href="#CFTime.DateTimeJulian"><code>CFTime.DateTimeJulian</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTimeJulian([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
               origin = (1900, 1, 1),
               units = ...) -&gt; DateTimeJulian</code></pre><p>Construct a <code>DateTimeJulian</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTimeJulian</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;julian&quot;
# The internal time unit is millisecond.
dt1 = DateTimeJulian(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTimeJulian(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTimeJulian(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;julian&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTimeJulian(dt::AbstractString, format::AbstractString;
               locale=&quot;english&quot;) -&gt; DateTimeJulian</code></pre><p>Construct a DateTimeJulian by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTimeProlepticGregorian" href="#CFTime.DateTimeProlepticGregorian"><code>CFTime.DateTimeProlepticGregorian</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTimeProlepticGregorian([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
                           origin = (1900, 1, 1),
                           units = ...) -&gt; DateTimeProlepticGregorian</code></pre><p>Construct a <code>DateTimeProlepticGregorian</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTimeProlepticGregorian</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;prolepticgregorian&quot;
# The internal time unit is millisecond.
dt1 = DateTimeProlepticGregorian(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTimeProlepticGregorian(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTimeProlepticGregorian(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;prolepticgregorian&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTimeProlepticGregorian(dt::AbstractString, format::AbstractString;
                           locale=&quot;english&quot;) -&gt; DateTimeProlepticGregorian</code></pre><p>Construct a DateTimeProlepticGregorian by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTimeAllLeap" href="#CFTime.DateTimeAllLeap"><code>CFTime.DateTimeAllLeap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTimeAllLeap([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
                origin = (1900, 1, 1),
                units = ...) -&gt; DateTimeAllLeap</code></pre><p>Construct a <code>DateTimeAllLeap</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTimeAllLeap</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;allleap&quot;
# The internal time unit is millisecond.
dt1 = DateTimeAllLeap(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTimeAllLeap(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTimeAllLeap(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;allleap&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTimeAllLeap(dt::AbstractString, format::AbstractString;
                locale=&quot;english&quot;) -&gt; DateTimeAllLeap</code></pre><p>Construct a DateTimeAllLeap by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTimeNoLeap" href="#CFTime.DateTimeNoLeap"><code>CFTime.DateTimeNoLeap</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTimeNoLeap([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
               origin = (1900, 1, 1),
               units = ...) -&gt; DateTimeNoLeap</code></pre><p>Construct a <code>DateTimeNoLeap</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTimeNoLeap</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;noleap&quot;
# The internal time unit is millisecond.
dt1 = DateTimeNoLeap(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTimeNoLeap(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTimeNoLeap(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;noleap&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTimeNoLeap(dt::AbstractString, format::AbstractString;
               locale=&quot;english&quot;) -&gt; DateTimeNoLeap</code></pre><p>Construct a DateTimeNoLeap by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.DateTime360Day" href="#CFTime.DateTime360Day"><code>CFTime.DateTime360Day</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DateTime360Day([Ti::DataType], y, [m, d, h, mi, s, ms, µs, ns...],
               origin = (1900, 1, 1),
               units = ...) -&gt; DateTime360Day</code></pre><p>Construct a <code>DateTime360Day</code> type by year (<code>y</code>), month (<code>m</code>, default 1), day (<code>d</code>, default 1), hour (<code>h</code>, default 0), minute (<code>mi</code>, default 0), second (<code>s</code>, default 0), millisecond (<code>ms</code>, default 0), microsecond (<code>µs</code>, default 0), nanosecond (<code>ns</code>, default 0), .... Currently <code>attosecond</code> is the smallest supported time unit.</p><p>All arguments must be convertible to <code>Int64</code>. <code>DateTime360Day</code> is a subtype of <code>AbstractCFDateTime</code>.</p><p>The date is stored a duration since the time <code>origin</code> (epoch) expressed as <code>milliseconds</code> but smaller time units will be used if necessary. For example if the user provides 8 integers, they will be interpreted as year, month, day, hour, minute, second, millisecond and microsecond. The internal time units will be microsecond in this case.</p><p>Valid values for <code>units</code> are <code>:day</code>, <code>:hour</code>, <code>:second</code>, ..., <code>:attosecond</code> as symbols or value types of symbols (e.g. <code>Val(:day)</code>).</p><p><code>origin</code> is a tuple of integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The duration is stored as a number of type <code>Ti</code> (<code>Int64</code> per default). Any integer types (such as <code>Int32</code>, <code>Int128</code> or <code>BigInt</code>) or floating-point types can be used. Using an integer to encode a time instance is recommended for most applications, as it makes reasoning about the time resolution easier.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000, 00:00:00 using the CF calendaro &quot;360day&quot;
# The internal time unit is millisecond.
dt1 = DateTime360Day(2000,12,31)

# 31st December 2000, 00:00:00 and 1 nanosecond.
# The internal time unit is nanosecond.
dt2 = DateTime360Day(2000,12,31, 0,0,0, 0,0,1)

dt2 - dt1
# output: 1 nanosecond

# 31st December 2000, 00:00:00
# The internal time unit is microsecond. Internally the duration is stored
# as an Int128.
dt3 = DateTime360Day(Int128, 2000,12,31, units = :microsecond)

dt1 == dt3
# output: true</code></pre><p>The netCDF CF calendars are defined in <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#calendar">the CF Standard</a>. This type implements the calendar defined as &quot;360day&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L64-L124">source</a></section><section><div><pre><code class="language-julia hljs">DateTime360Day(dt::AbstractString, format::AbstractString;
               locale=&quot;english&quot;) -&gt; DateTime360Day</code></pre><p>Construct a DateTime360Day by parsing the <code>dt</code> date time string following the pattern given in the <code>format</code> string. In Julia, the only currently defined locale is English, therefore locale must be &quot;english&quot; or omitted.</p><p>See <code>Dates.DateFormat</code> for more information about the date time and format string.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime

# 31st December 2000
dt1 = DateTimeStandard(&quot;2000-December-31&quot;,&quot;yyyy-U-dd&quot;)</code></pre><div class="admonition is-info" id="Note-76d8226b48ee46bc"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-76d8226b48ee46bc" title="Permalink"></a></header><div class="admonition-body"><p>This function is experimental and might be removed in the future. It relies on some internal function of <code>Dates</code> for parsing the <code>format</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/datetime.jl#L161-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.AbstractCFDateTime" href="#CFTime.AbstractCFDateTime"><code>CFTime.AbstractCFDateTime</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractCFDateTime{T,Torigintuple}</code></pre><p>Supertype for all DateTime structures following the CF conventions where the time instance is represented as a duration of type <code>T</code> since a time origin specified by the value type of the tuple <code>Torigintuple</code>.</p><p>The tuple is composed of the integers representing the year, month and day as well as smaller time divisions if necessary.</p><p>The type parameter <code>T</code> and <code>Torigintuple</code> are considered as internal API. Only reducing the number of type parameters of <code>AbstractCFDateTime</code> will be considered as a breaking change.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/types.jl#L1-L14">source</a></section></article><h2 id="Time-encoding-and-decoding"><a class="docs-heading-anchor" href="#Time-encoding-and-decoding">Time encoding and decoding</a><a id="Time-encoding-and-decoding-1"></a><a class="docs-heading-anchor-permalink" href="#Time-encoding-and-decoding" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.timedecode" href="#CFTime.timedecode"><code>CFTime.timedecode</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dt = timedecode(data,units,calendar = &quot;standard&quot;; prefer_datetime = true)</code></pre><p>Decode the time information in data as given by the units <code>units</code> according to the specified calendar.</p><p><code>units</code> has the format <code>&quot;DURATION_UNIT since TIME_ORIGIN&quot;</code> where <code>DURATION_UNIT</code> can be the year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, picosecond, femtosecond or attosecond (in singular or plural). The string <code>TIME_ORIGIN</code> is a time instance written as <code>year-month-day hour:minute:second.subseconds...</code>  using 24-hour clock system where <code>subseconds</code> is the decimal fraction of the second. <code>day</code> and <code>hour</code> can also be separated by the character <code>T</code> following ISO 8601.</p><p>Valid values for <code>calendar</code> are <code>&quot;standard&quot;</code>, <code>&quot;gregorian&quot;</code>, <code>&quot;proleptic_gregorian&quot;</code>, <code>&quot;julian&quot;</code>, <code>&quot;noleap&quot;</code>, <code>&quot;365_day&quot;</code>, <code>&quot;all_leap&quot;</code>, <code>&quot;366_day&quot;</code> and <code>&quot;360_day&quot;</code>.</p><p>If <code>prefer_datetime</code> is <code>true</code> (default), dates are converted to the <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a> type (for the calendars &quot;standard&quot;, &quot;gregorian&quot;, &quot;proleptic_gregorian&quot; and &quot;julian&quot;) unless the time unit is expressed in microseconds or smaller. Such conversion is not possible for the other calendars.</p><table><tr><th style="text-align: right">Calendar</th><th style="text-align: right">Type (prefer_datetime=true)</th><th style="text-align: right">Type (prefer_datetime=false)</th></tr><tr><td style="text-align: right"><code>standard</code>, <code>gregorian</code></td><td style="text-align: right"><code>DateTime</code></td><td style="text-align: right"><code>DateTimeStandard</code></td></tr><tr><td style="text-align: right"><code>proleptic_gregorian</code></td><td style="text-align: right"><code>DateTime</code></td><td style="text-align: right"><code>DateTimeProlepticGregorian</code></td></tr><tr><td style="text-align: right"><code>julian</code></td><td style="text-align: right"><code>DateTime</code></td><td style="text-align: right"><code>DateTimeJulian</code></td></tr><tr><td style="text-align: right"><code>noleap</code>, <code>365_day</code></td><td style="text-align: right"><code>DateTimeNoLeap</code></td><td style="text-align: right"><code>DateTimeNoLeap</code></td></tr><tr><td style="text-align: right"><code>all_leap</code>, <code>366_day</code></td><td style="text-align: right"><code>DateTimeAllLeap</code></td><td style="text-align: right"><code>DateTimeAllLeap</code></td></tr><tr><td style="text-align: right"><code>360_day</code></td><td style="text-align: right"><code>DateTime360Day</code></td><td style="text-align: right"><code>DateTime360Day</code></td></tr></table><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime, Dates
# standard calendar
dt = CFTime.timedecode([0,1,2,3],&quot;days since 2000-01-01 00:00:00&quot;)
# 4-element Vector{Dates.DateTime}:
#  2000-01-01T00:00:00
#  2000-01-02T00:00:00
#  2000-01-03T00:00:00
#  2000-01-04T00:00:00

dt = CFTime.timedecode([0,1,2,3],&quot;days since 2000-01-01 00:00:00&quot;,&quot;360_day&quot;)
# 4-element Vector{DateTime360Day{CFTime.Period{Int64, Val{86400}(), Val{0}()}, Val{(2000, 1, 1)}()}}:
#  2000-01-01T00:00:00
#  2000-01-02T00:00:00
#  2000-01-03T00:00:00
#  2000-01-04T00:00:00</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/conversions.jl#L300-L352">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.timeencode" href="#CFTime.timeencode"><code>CFTime.timeencode</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">data = timeencode(dt,units,calendar = &quot;standard&quot;)</code></pre><p>Convert a vector or array of <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a> (or <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>, <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a>, <a href="#CFTime.DateTimeNoLeap"><code>DateTimeNoLeap</code></a>, <a href="#CFTime.DateTimeAllLeap"><code>DateTimeAllLeap</code></a>, <a href="#CFTime.DateTime360Day"><code>DateTime360Day</code></a>) according to the specified units (e.g. <code>&quot;days since 2000-01-01 00:00:00&quot;</code>) using the calendar <code>calendar</code>.</p><p><code>units</code> has the format <code>&quot;DURATION_UNIT since TIME_ORIGIN&quot;</code> where <code>DURATION_UNIT</code> can be the year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, picosecond, femtosecond or attosecond (in singular or plural). The string <code>TIME_ORIGIN</code> is a time instance written as <code>year-month-day hour:minute:second.subseconds...</code>  using 24-hour clock system where <code>subseconds</code> is the decimal fraction of the second. <code>day</code> and <code>hour</code> can also be separated by the character <code>T</code> following ISO 8601.</p><p>Valid values for calendar are: <code>&quot;standard&quot;</code>, <code>&quot;gregorian&quot;</code>, <code>&quot;proleptic_gregorian&quot;</code>, <code>&quot;julian&quot;</code>, <code>&quot;noleap&quot;</code>, <code>&quot;365_day&quot;</code>, <code>&quot;all_leap&quot;</code>, <code>&quot;366_day&quot;</code>, <code>&quot;360_day&quot;</code>.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">using CFTime
dt = [DateTimeStandard(2000,1,1),DateTimeStandard(2000,1,2),DateTimeStandard(2000,1,3)]
CFTime.timeencode(dt,&quot;days since 2000-01-01 00:00:00&quot;)
# output: [0., 1., 2.]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/conversions.jl#L383-L413">source</a></section></article><h2 id="Accessor-Functions"><a class="docs-heading-anchor" href="#Accessor-Functions">Accessor Functions</a><a id="Accessor-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Accessor-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.year-Tuple{AbstractCFDateTime}" href="#Dates.year-Tuple{AbstractCFDateTime}"><code>Dates.year</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.year(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the year part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.month-Tuple{AbstractCFDateTime}" href="#Dates.month-Tuple{AbstractCFDateTime}"><code>Dates.month</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.month(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the month part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.day-Tuple{AbstractCFDateTime}" href="#Dates.day-Tuple{AbstractCFDateTime}"><code>Dates.day</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.day(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the day part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.hour-Tuple{AbstractCFDateTime}" href="#Dates.hour-Tuple{AbstractCFDateTime}"><code>Dates.hour</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.hour(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the hour part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.minute-Tuple{AbstractCFDateTime}" href="#Dates.minute-Tuple{AbstractCFDateTime}"><code>Dates.minute</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.minute(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the minute part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.second-Tuple{AbstractCFDateTime}" href="#Dates.second-Tuple{AbstractCFDateTime}"><code>Dates.second</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.second(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the second part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.millisecond-Tuple{AbstractCFDateTime}" href="#Dates.millisecond-Tuple{AbstractCFDateTime}"><code>Dates.millisecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.millisecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the millisecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.microsecond-Tuple{AbstractCFDateTime}" href="#Dates.microsecond-Tuple{AbstractCFDateTime}"><code>Dates.microsecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.microsecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the microsecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.nanosecond-Tuple{AbstractCFDateTime}" href="#Dates.nanosecond-Tuple{AbstractCFDateTime}"><code>Dates.nanosecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dates.nanosecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the nanosecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.picosecond-Tuple{AbstractCFDateTime}" href="#CFTime.picosecond-Tuple{AbstractCFDateTime}"><code>CFTime.picosecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CFTime.picosecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the picosecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.femtosecond-Tuple{AbstractCFDateTime}" href="#CFTime.femtosecond-Tuple{AbstractCFDateTime}"><code>CFTime.femtosecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CFTime.femtosecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the femtosecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CFTime.attosecond-Tuple{AbstractCFDateTime}" href="#CFTime.attosecond-Tuple{AbstractCFDateTime}"><code>CFTime.attosecond</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CFTime.attosecond(dt::AbstractCFDateTime) -&gt; Int64</code></pre><p>Extract the attosecond part of an <code>AbstractCFDateTime</code> as an <code>Int64</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/accessors.jl#L6-L10">source</a></section></article><h2 id="Query-Functions"><a class="docs-heading-anchor" href="#Query-Functions">Query Functions</a><a id="Query-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Query-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.daysinmonth" href="#Dates.daysinmonth"><code>Dates.daysinmonth</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">monthlength = daysinmonth(::Type{DT},y,m)</code></pre><p>Returns the number of days in a month for the year <code>y</code> and the month <code>m</code> according to the calendar given by the type <code>DT</code> (any subtype of <a href="#CFTime.AbstractCFDateTime"><code>AbstractCFDateTime</code></a>).</p><p>Example</p><pre><code class="language-julia-repl hljs">julia&gt; daysinmonth(DateTimeAllLeap,2001,2)
29</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L9-L21">source</a></section><section><div><pre><code class="language-julia hljs">monthlength = daysinmonth(t)</code></pre><p>Returns the number of days in a month containing the date <code>t</code></p><p>Example</p><pre><code class="language-julia-repl hljs">julia&gt; daysinmonth(DateTimeAllLeap(2001,2,1))
29</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L27-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.daysinyear" href="#Dates.daysinyear"><code>Dates.daysinyear</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">yearlength = daysinyear(::Type{DT},y)</code></pre><p>Returns the number of days in a year for the year <code>y</code> according to the calendar given by the type <code>DT</code> (any subtype of <a href="#CFTime.AbstractCFDateTime"><code>AbstractCFDateTime</code></a>).</p><p>Example</p><pre><code class="language-julia-repl hljs">julia&gt; daysinyear(DateTimeAllLeap,2001,2)
366</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L42-L54">source</a></section><section><div><pre><code class="language-julia hljs">yearlength = daysinyear(t)</code></pre><p>Returns the number of days in a year containing the date <code>t</code></p><p>Example</p><pre><code class="language-julia-repl hljs">julia&gt; daysinyear(DateTimeAllLeap(2001,2,1))
366</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L60-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.yearmonthday" href="#Dates.yearmonthday"><code>Dates.yearmonthday</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">yearmonthday(dt::AbstractCFDateTime)</code></pre><p>Simultaneously return the year, month and day parts of <code>dt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.yearmonth" href="#Dates.yearmonth"><code>Dates.yearmonth</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">yearmonth(dt::AbstractCFDateTime)</code></pre><p>Simultaneously return the year and month parts of <code>dt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.monthday" href="#Dates.monthday"><code>Dates.monthday</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">monthday(dt::AbstractCFDateTime)</code></pre><p>Simultaneously return the month and day parts of <code>dt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.firstdayofyear" href="#Dates.firstdayofyear"><code>Dates.firstdayofyear</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">firstdayofyear(dt::AbstractCFDateTime)</code></pre><p>Return the first day of the year including the date <code>dt</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Dates.dayofyear" href="#Dates.dayofyear"><code>Dates.dayofyear</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dayofyear(dt::AbstractCFDateTime)</code></pre><p>Return the day of the year for dt with January 1st being day 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/query.jl#L105-L109">source</a></section></article><h2 id="Conversion-Functions"><a class="docs-heading-anchor" href="#Conversion-Functions">Conversion Functions</a><a id="Conversion-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-Functions" title="Permalink"></a></h2><p>The flexibility of CFTime&#39;s datetime (related to the time origin, time resolution and type of the time counter) comes with some cost. When merging data from different sources, the resulting merged time vector may not have a concrete type, as there is no implicit conversion to a common time origin or internal unit, unlike Julia&#39;s <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a>. In some cases, the user might decide to explicitly convert all times to a common time origin and internal unit for optimal performance.</p><p>The <a href="#Base.convert-Tuple{Type{DateTime}, DateTimeStandard}"><code>convert</code></a> function can be used to convert dates between the different calendars:</p><pre><code class="language-julia hljs">using CFTime, Dates
convert(DateTime,DateTimeJulian(2024,4,4))
# output
2024-04-17T00:00:00</code></pre><pre><code class="language-julia hljs">convert(DateTimeJulian,DateTime(2024,4,17))
# output
DateTimeJulian(2024-04-04T00:00:00)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.convert-Tuple{Type{DateTime}, DateTimeStandard}" href="#Base.convert-Tuple{Type{DateTime}, DateTimeStandard}"><code>Base.convert</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dt2 = convert(::Type{T}, dt)</code></pre><p>Convert a DateTime <code>dt</code> of type <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>, <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a> or <code>DateTime</code> into the type <code>T</code> which can also be either <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>, <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a> or <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a>.</p><p>Conversion is done such that duration (difference of DateTime types) are preserved. For dates on and after 1582-10-15, the year, month and days are the same for the types <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a> and <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a>.</p><p>For dates before 1582-10-15, the year, month and days are the same for the types <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a> and <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/conversions.jl#L459-L472">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.reinterpret" href="#Base.reinterpret"><code>Base.reinterpret</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dt2 = reinterpret(::Type{T}, dt)</code></pre><p>Convert a variable <code>dt</code> of type <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateTime"><code>DateTime</code></a>, <a href="#CFTime.DateTimeStandard"><code>DateTimeStandard</code></a>, <a href="#CFTime.DateTimeJulian"><code>DateTimeJulian</code></a>, <a href="#CFTime.DateTimeProlepticGregorian"><code>DateTimeProlepticGregorian</code></a>, <a href="#CFTime.DateTimeAllLeap"><code>DateTimeAllLeap</code></a>, <a href="#CFTime.DateTimeNoLeap"><code>DateTimeNoLeap</code></a> or <a href="#CFTime.DateTime360Day"><code>DateTime360Day</code></a> into the date time type <code>T</code> using the same values for year, month, day, minute, second, ... attosecond. The conversion might fail if a particular date does not exist in the target calendar.</p><p>For example, the difference of the 1 January 2000 in the Julian and and the 1 January 2000 in the standard calendar is 13 days:</p><pre><code class="language-julia hljs">using CFTime, Dates
dt = DateTimeJulian(2000,1,1)
Dates.Day(dt - reinterpret(DateTimeStandard,dt))
# 13 days</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeo/CFTime.jl/blob/0084b75cd45531495e6d4df56b2cdc08c74ef901/src/conversions.jl#L64-L85">source</a></section></article><h2 id="Arithmetic"><a class="docs-heading-anchor" href="#Arithmetic">Arithmetic</a><a id="Arithmetic-1"></a><a class="docs-heading-anchor-permalink" href="#Arithmetic" title="Permalink"></a></h2><p>Adding and subtracting time periods is supported:</p><pre><code class="language-julia hljs">using CFTime, Dates
DateTimeStandard(1582,10,4) + Dates.Day(1)
# output
DateTimeStandard(1582-10-15T00:00:00)</code></pre><p>1582-10-15 is the adoption of the Gregorian Calendar.</p><p>Comparison operator can be used to check if a date is before or after another date.</p><pre><code class="language-julia hljs">DateTimeStandard(2000,01,01) &lt; DateTimeStandard(2000,01,02)
# output
true</code></pre><h2 id="Ranges"><a class="docs-heading-anchor" href="#Ranges">Ranges</a><a id="Ranges-1"></a><a class="docs-heading-anchor-permalink" href="#Ranges" title="Permalink"></a></h2><p>Time ranges can be constructed using a start date, end date and a time increment:</p><pre><code class="language-julia hljs">using CFTime, Dates
range = DateTimeStandard(2000,1,1):Dates.Day(1):DateTimeStandard(2000,12,31)
length(range)
# output
366</code></pre><pre><code class="language-julia hljs">step(range)
# output
1 day</code></pre><p>Note that there is no default increment for range.</p><h2 id="Rounding"><a class="docs-heading-anchor" href="#Rounding">Rounding</a><a id="Rounding-1"></a><a class="docs-heading-anchor-permalink" href="#Rounding" title="Permalink"></a></h2><p>Julia&#39;s <code>DateTime</code> records the time relative to a time origin (January 1st, 1 BC or 0000-01-01 in ISO_8601) with a millisecond accuracy. Converting CFTime date time structures to Julia&#39;s <code>DateTime</code> (using <code>convert(DateTime,dt)</code>) can trigger an inexact exception if the conversion cannot be done without loss of precision. One can use the <code>round</code> function in order to round to the nearest time represenatable by <code>DateTime</code>:</p><pre><code class="language-julia hljs">using CFTime: DateTimeStandard
using Dates: DateTime
dt = DateTimeStandard(24*60*60*1000*1000 + 123,&quot;microsecond since 2000-01-01&quot;)
round(DateTime,dt)
# output
2000-01-02T00:00:00</code></pre><p>The functions <code>floor</code> and <code>ceil</code> are also supported. They can be used to effectively reduce the time resolution, for example:</p><pre><code class="language-julia hljs">using CFTime: DateTimeStandard
using Dates

dt = DateTimeStandard(24*60*60,&quot;second since 2000-01-01&quot;)

floor(dt+Second(9),Second(10)) == dt
# output
true</code></pre><pre><code class="language-julia hljs">ceil(dt+Second(9),Second(10)) == dt + Second(10)
# output
true</code></pre><pre><code class="language-julia hljs">round(dt+Second(9),Second(10)) == dt + Second(10)
# output
true</code></pre><h2 id="Type-stable-constructors"><a class="docs-heading-anchor" href="#Type-stable-constructors">Type-stable constructors</a><a id="Type-stable-constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Type-stable-constructors" title="Permalink"></a></h2><p>To create a type-stable date time structure, use the <code>DateTimeStandard</code> (and similar) either with the default <code>units</code> and time <code>origin</code>, a constant unit/origin or a value type of the unit and origin. For example:</p><pre><code class="language-julia hljs">using CFTime: DateTimeStandard

function foo(year,month,day,hour,minute,second)
   DateTimeStandard(year,month,day,hour,minute,second;
                    units=:second, origin=(1970,1,1))
end

# Type-stable thanks to constant propagation
@code_warntype foo(2000,1,1,0,0,0)


function foo2(year,month,day,hour,minute,second,units,origin)
   DateTimeStandard(year,month,day,hour,minute,second; units, origin)
end

# This not type-stable as the type depends on the value of units and origin
units = :second
origin = (1970,1,1)
@code_warntype foo2(2000,1,1,0,0,0,units,origin)


# But this is again type-stable
units = Val(:second)
origin = Val((1970,1,1))
@code_warntype foo2(2000,1,1,0,0,0,units,origin)</code></pre><h2 id="Limitations-and-caveats"><a class="docs-heading-anchor" href="#Limitations-and-caveats">Limitations and caveats</a><a id="Limitations-and-caveats-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations-and-caveats" title="Permalink"></a></h2><p>In Julia, integer overflows can occur in various operations such as:</p><pre><code class="nohighlight hljs">using Dates
typemax(Int64)+1
# -9223372036854775808

DateTime(2000,1,1) + Dates.Day(typemax(Int64))
# 1999-12-31T00:00:00

DateTime(typemax(Int64),1,1)
# -0002-12-31T13:26:24</code></pre><p>None of these calls issue a warning or an error in Julia (due to the performance impact affecting the vast majority of cases). The same approach is taken in CFTime: the user should be aware than under some (exeptional) circumstances, the default <code>Int64</code> can overflow. But in addition to Julia&#39;s <code>Dates</code>, CFTime gives us user the option to use different storage types like <code>Int128</code> or <code>BigInt</code>:</p><pre><code class="language-julia hljs">using CFTime
DateTimeStandard(Int128,typemax(Int64),1,1)
# DateTimeStandard(9223372036854775807-01-01T00:00:00)</code></pre><p>In this example, the year 9223372036854775807 (about nine quintillion years) is about 60 millions time longer than the age of the universe. It dependens on the users&#39; application whether such long time frames are needed.</p><p>The default <code>Int64</code> time counter can also overflow when using a very small time resolution are used:</p><pre><code class="language-julia hljs">using CFTime
DateTimeStandard(2000,1,1, units=:attosecond)
# which is the same as
DateTimeStandard(Int64,2000,1,1, units=:attosecond,origin=(1900,1,1))
# -&gt; overflow</code></pre><p>An <code>Int64</code> time counter does not allow to represent the number of attoseconds between the 1st January of the years 2000 and 1900. In fact, only 18 s around the time origin can be represent with a 64-bit integer and attoseconds as time unit.</p><p>This table sumarizes the maximal time span for <code>Int64</code> around the time origin (1900-01-01 00:00:00, per default)</p><table><tr><th style="text-align: right">unit</th><th style="text-align: right">time span</th></tr><tr><td style="text-align: right">day</td><td style="text-align: right">±2.525e+16 years</td></tr><tr><td style="text-align: right">hour</td><td style="text-align: right">±1.052e+15 years</td></tr><tr><td style="text-align: right">minute</td><td style="text-align: right">±1.754e+13 years</td></tr><tr><td style="text-align: right">second</td><td style="text-align: right">±2.923e+11 years</td></tr><tr><td style="text-align: right">millisecond</td><td style="text-align: right">±2.923e+08 years</td></tr><tr><td style="text-align: right">microsecond</td><td style="text-align: right">±2.923e+05 years</td></tr><tr><td style="text-align: right">nanosecond</td><td style="text-align: right">±292.3 years</td></tr><tr><td style="text-align: right">picosecond</td><td style="text-align: right">±106.8 days</td></tr><tr><td style="text-align: right">femtosecond</td><td style="text-align: right">±2.562 hours</td></tr><tr><td style="text-align: right">attosecond</td><td style="text-align: right">±9.223 seconds</td></tr></table><p>An <code>Int128</code> is sufficiently large for the case above:</p><pre><code class="language-julia hljs">DateTimeStandard(Int128,2000,1,1, units=:attosecond,origin=(1900,1,1))
# DateTimeStandard(2000-01-01T00:00:00)</code></pre><p>Operations can typically be 2 to 4 times slower when using an <code>Int128</code> rather than an <code>Int64</code>.</p><p>It is important to note that when small durations are added to a time instances, then internal type promotion will also change the unit of the time instance (which is milliseconds since 1900-01-01):</p><pre><code class="language-julia hljs">dt = DateTimeStandard(2000,1,1) # default unit is :millisecond
dt2 = dt + Dates.Nanosecond(1) # now the unit is :nanosecond -&gt; but no overflow
# DateTimeStandard(2000-01-01T00:00:00.000000001)

dt = DateTimeStandard(2160,1,1) # default unit is :millisecond
dt2 = dt + Dates.Nanosecond(1) # now the unit is :nanosecond -&gt; overflow
# DateTimeStandard(1575-06-03T00:25:26.290448385)</code></pre><p>Whether an overflow occurs or not cannot be statically inferred and a warning at runtime would impact performance. To avoid overflows, one should use <code>Int128</code> or <code>BigInt</code> in these cases.</p><p>Note that on a 32-bit system, the default internal time counter is still <code>Int64</code> as in Julia&#39;s <code>Dates</code> module.</p><h2 id="Internal-API"><a class="docs-heading-anchor" href="#Internal-API">Internal API</a><a id="Internal-API-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-API" title="Permalink"></a></h2><p>For CFTime 0.1.4 and before all date-times are encoded using internally milliseconds since a fixed time origin and stored as an <code>Int64</code> similar to julia&#39;s <code>Dates.DateTime</code>. However, this approach does not allow to encode time with a sub-millisecond precision allowed by the CF convention and supported by e.g. <a href="https://numpy.org/doc/1.25/reference/arrays.datetime.html#datetime-units">numpy</a>. While <code>numpy</code> allows attosecond precision, it can only encode a time span of ±9.2 around the date 00:00:00 UTC on 1 January 1970. In CFTime the time origin and the number containing the duration and the time precision are now encoded as two additional type parameters.</p><p>When wrapping a CFTime date-time type, it is recommended for performance reasons to make the containing structure also parametric, for example</p><pre><code class="language-julia hljs">struct MyStuct{T1,T2}
  dt::DateTimeStandard{T1,T2}
end</code></pre><p>Future version of CFTime might add other type parameters. Internally, <code>T1</code> corresponds to a <code>CFTime.Period{T,Tfactor,Texponent}</code> structure  wrapping a number type <code>T</code> representing the duration expressed in seconds as:</p><pre><code class="nohighlight hljs">duration * factor * 10^exponent</code></pre><p>where <code>Tfactor</code> and <code>Texponent</code> are value types of <code>factor</code> and <code>exponent</code> respectively.</p><p>For example, duration 3600000 milliseconds is represented as <code>duration = 3600000</code>, <code>Tfactor = Val(1)</code>, <code>Texponent = Val(-3)</code>, as</p><pre><code class="nohighlight hljs">3600000 milliseconds = 3600000 * 1 * 10⁻³ seconds</code></pre><p>or the duration 1 hours is <code>duration = 1</code>,  <code>Tfactor = Val(3600)</code> and <code>Texponent = Val(0)</code> since:</p><pre><code class="nohighlight hljs">1 hour = 1 * 3600 * 10⁰ seconds</code></pre><p>There is no normalization of the time duration per default as it could lead to under-/overflow.</p><p>The type parameter <code>T2</code> of <code>DateTimeStandard</code> encodes the time origin as a tuple of integers starting with the year (year,month,day,hour,minute,seconds,...attoseconds).  Only the year, month and day need to be specified; all other default to zero. For example <code>T2</code> would be <code>Val((1970,1,1))</code> if the time origin is the 1st January 1970.</p><p>By using value types as type parametes, the time origin, time resolution... are known to the compiler. For example, computing the difference between between two date time expressed in as the same time origin and units as a single substraction:</p><pre><code class="language-julia hljs">using BenchmarkTools
using Dates
using CFTime: DateTimeStandard

dt0 = DateTimeStandard(1,&quot;days since 2000-01-01&quot;)
dt1 = DateTimeStandard(1000,&quot;days since 2000-01-01&quot;)

difference_datetime(dt0,dt1) = Dates.Millisecond(dt1 - dt0).value
@btime difference_datetime($dt0,$dt1)

# output (minimum of 5 @btime trails)
# 1.689 ns (0 allocations: 0 bytes)

v0 = 1
v1 = 1000

difference_numbers(v0,v1) = (v1-v0)*(86_400_000)
@btime difference_numbers($v0,$v1)

# output (minimum of 5 @btime trails)
# 1.683 ns (0 allocations: 0 bytes)</code></pre><p>The information in this section and any other information marked as internal or experimental is not part of the public API and not covered by the semantic versioning. Future version of CFTime might add or changing the meaning of type parameters as patch-level changes. However, removing a type parameter would be considered as a breaking change.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="basic_usage/">Basic Usage »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>, <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a></p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 30 August 2025 19:16">Saturday 30 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
